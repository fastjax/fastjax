# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests clean deploy -P javadoc,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: Puz/AIkM0uxlPul4sMRy9gsALgotWT4Ycgnz7g/vspPdnjcV/JcHXYNlehQl0ZAqnxJSJMtqYViWDSgyVlf4aBUcb05QA/X8QAPpi6MlWCh71cwrn9Gaje6G3qNvbc5danq1dDmthlVymF1iU9rp7ZQyXFSDVvTQdCgM7yM171q7Aag9kTWz/03mFLj5HxkxYsQ08MFBddCEsyAQsIiSpmqGPYVK0MPGKi3A9htoniagQcTwdWMU+jCwRYV7esyAcCL9ZbRTWs1hygRk/tcm8Mr1hQCQ8I/xzpYPuSytjNXeZtp0xCzqWJknGb5sEAoYeuewYwPzL+SM7Hom8VAo0VzzasNdhgl4u3sbMW+zvty97EYnzJqxnvty4yqA0K3/VOK/3WE839HrkqORCS6gO4NnNgMHA0aZNcInMb87pyEHvAnrFSWi/7zLVLfCR+87j4psuOAcLfXGdP4NFrZScYOw95bIYM0dQZMH6PdfttXZscmiRUM0JpCcZk8P458G/bQYGa1hR8JweYv7f90UN2PagWOYkC2fQyxG0xcs1LKWiIjZxEYswz0AgaIV7RQovukcF9zuYz8WSXhFU2N3hesgBLHLsH2pzYMQmhHK3v1b8w5Gw6/6MALf9rkdyMdomKZNbx4GhdbS0Lpi00jI6sWeWqINf5IYdnmnxWIXq/8=
  - secure: cqcnPREkdKBm7OQ427SFqBK8CzoyEpdumZhg+bQH8EpiEW6l6Mp3fDBh6m1M6Ur/hVgT9UXRqY8Z5M96/bkR8Xwy8n7jTR+9B/qq9aKsJwg6YOIanl2sZl70MU54+QcNgINInxA9MlqFO//f+AiDvSHXcvmVds7GaBAdkOjI1f7r8FxdsappmdT4zs8I/IgoLMppf6BsM/xLZVTt2qTqk8wm2uCyG586b9EnVz+vi/9EtHRnXPB3S71bN8Yl6PzzLMq7cYc8NOgdTN6VcARPosAwGC2LnQvo+8YKCEpGCjdOGxa+V4hlpmrax4nHHJKXEXcz90GMSzbqrzakujKAn2oq2JjtlXHB4F/ePfqcCn3mCqTX9I3Jxz88SO755TnUUGIkoUf8lcpUNEAfsikFU4fD4BHLLHFiRhh4bkAowSTGwk7tp2TQaJxJSN3tIb9ZLemQDDD8rUr0HolRGFOd76LFy7btG8l3O9VuCow/S1Whb7bJAi9u85SrIp4dpjbjXNKaqH0b17YqbnDeYKNdh8uKAoekhVBI2htde3CcYribNCFtUlQeAutHRp6LRIxY01C2P4BNU7pSK0T19Lm+mS2+PgUewhGKIPNobXEF5Emr9KuMrHyGn7v1tTL2nbd8aNlu3/8SIsGKP0uki5SwLUN66xmgAHIU16esIivTZbY=
  - secure: uXxL2HgJO8Ub1tLZ3UOSH0sDmxzJJjzpziM4kFM96iwBraFnwwGCXI3cMyLzacromUEYqoPrklTWcvIAo3JPZwFSQhj9rUmzV9CUrg/QfiCDKt3WKAgxK3eAbN+8otYb+siPcqziHNUGTwDsWcfI0vCP+nbTyTMqqud5+CPBFwEGx+ycPrKUBOSVTnUtdWnlnxngS3+SDXWEwuRaW9nLbSzYAXZUdVCD5gHHj4vztamGmxw2xn9NbnR2HGNpvcHYiHaAse/GdVLJ9kS19b3qVlXL0HLR1FJ0P0krb4L+BQ1DKp18L2dXfwWbh2MtW7cWQnjkg7AeCqlYZ7XdBBP8pe5Kt20nhn4PwmLdz7AeB9LniljoTzj+LeX0fDbZp58ot8ntZNUZ7MDtkL1vDRJLG79MAnWMUEuU98DFzXl3hksBC8rvX2ozo1pCau3YiY4neqsIUGj24YzYRUWrS0NpZ76CylF82KbFi/6EwDMbDHiGco1tezTPh9Uo+JHjnmnvSUH5+saOOQRQOFLqOQgbfch3nzkYjx+NYrooc405wZdsNLccyf/yerlWbI8EsT2oqTnYjiJ08Jt18h/8dpUvF3vorWPoC8yFGRQqWmXkiSdIGy2yTX4nehKl1CLa7F80M5EfcOT6GGLPcXFr6XNpUmoX6JLByeqpKeasgOus/dE=
  - secure: WQDfcagTg8CpSBFUVbKeQc9zIbicBMBKVz2+Xk3rSnFXjdiQwhn/faXEQTwdNbBlQIla9j3e83ZCSvkQ8+Dx0QHGmtucJhLcX4jpJUyBfMorhBHMDn0rtVc3XmK2oi+o9H0Ljygddvmz7MlGCwclvNw1i+DJhYIzzLySxwT/8KsE3Mq341kNcLpFzNTet98B1UfeFY786CVMeggJxh4gQSNeVZo0fLrCmqofUN8so1xmh8lsjmR/I+FhsP2TeaNYRdWt5P/UM0XWSlOYRBDOoC6aUFJWRqjfSIrqN2OhIghIdDP1bVGcHjW+KOYtaYDv5Sy69y1D+b8LVZinqj55dLPIHPdOvvRt2GAn7BCbzMfZrnjnuuyvDxUvlSBop6BsOSqDXWEtVTYevZxpnjRulsEEuHQ8a0WDjl6VekN+rOGMV1vHGEjRoKHwD78cFU5InokoRx9GYld5K4FIPdY5sMfUIiKvSsM3yJTHw3EJ43AyLAVmAyCYUSqf8obYdj/YojYg9m2UYGChQgS/ROVzzzrTh4U3owg7v9BBEiaocd0iGaH7FaOwsy8dxqtpRvkH8fynCrTafAhdfkxDMbhQO66kKiN4GSNd1CvTwH9qypy+0WCIOn5xqrzu2+tqg1WkkH/Praf9bTM8ZkWFP7lBPv9rOR2nvE3QAuXOJNtR0po=
  - secure: MnhUyadTf+hAy/CRNj4ToSwitL9ywWMcLEU52rKuX4K/MEFZeF4HK0DBeC5g2/VURW4j8kayjsoCcvc9dJP/BVIA/GWLxWM9zYTSVHHSm0Le72dxiXD3QCAoI9nuV0Xwhi4nXe+ZkjBMP9QTNTEElx2VuieoKZyU8AEDUSA/81h3YQK353fCeWFVle98ySU0ZJmPHYcjv5uCevR/7u0aKnTqRDoKDjl5phnAj6t0sI0ioLlHd84732o6cx/HDbgbuw5hTdox5ecUTI/UWrz+4gg1A2WZHH64VZa84zcxxfCFxC4FLe9jVMxzlwHhXMbJvIrSIAIgQ9o1t+6vwuasgPoahXedlFbOlMOhDsvN0wXoVX1BUarkyY22RRH8t2asGKj40xmqFQuK3u1EMYJppgVRe92QT+GRn3qB7dDVlQvIDiMLZ0sL7zhFeqJwU5SgqxA0C5ypPkxMsiyddCC1zRikBXeVfmOTIcAilVNyi6h3Srag77UYuFP25gIq49Co3EOTipfU/C4WPrbwLCm0m8KHhKpF0n/4aOjD/fUomgz+LMy3E/Q9ijx3Oo5Te3W0OgUl9aM8EbwM0YJy4hePicL9vNATP3NsDyyhUb/sBAH47KfaLR6KOWEoG15bH+JmTdI4YCA+JUZtjZh1DZ/3XrpZV2hCIUsF7QoOzH4wqpM=
  - secure: V3JB8w9fvHETFlAJG5hYVJx62ZNBJR721wWHPqjtXolxBHCMGZUqHsNosGjUOfFKRTUgp0WXq9BCenpTVGzRHyfEObYSyhP3FsmcK0eKXxcej3y4vWz+RJkI6ALmMXHBF8iYubgVxjm1dTEWiwEeAtYA0YoHeRAjE+xqw7MMUZKmiCoo0Rqnjf4VSGszpcg36J3IhncAMpRfI/AUG8ipVSZYaOpqkG3St66fpwyapxZY62EGZFs72f6QGTFXN5kgZXI9d/i0TggHxPbYadsKoIRSRDMgwFU2qP2hlLuIOO/a/zgzjv+OY3T+Ho/sUGr5429Y5ltU0Cht/SbLaE7XxlFQ8P8TRQp/8LP3TnuwXGOuxQ6SLzqJNv+OWnpgP2O+DE1Bjot0srHdwy0Fi5GGReaGfBJXNc7wcwYusAvneX196phY26e1jHquKEX5h9sIwCAKFNJH6kpWfwIsO7s/sexErSPyKb50CgmEqetcEha8eh22L9/vdcIfJCflWRzXmE4KpL5owY2CA2yxdjQDvnfAG7Ff5nu53gtwqY6PWBkMwMDSi2Vbl7LI8xD43/VDfFV24abO2sqPp5jjIgop3Ys7BoZN3eTkqEfh748Ox2Tpk8LXty4a4YEnvNLe8AHYy2hkZQ/upBgyOfhUWQqgLc4ZTuJP5a6tngU5cQX37Tw=
  - secure: JOcRhjwgOGQwsMI/MZZBRioljBGdLLy2O6/RgYfP+hRW5fRxPosOKWxtVV1PfauAyMkczxTrVUwt/TTmhzetpRoM5Dh760YxShlxUY+wFyDmj6iXWOkqd9ZWKsRdSq98PI2onjzu6yB2GL1Hqt0SsPfI/CU8BVM4CAXH9PEf3fS0bFmL4JoMzXAg7Djuay3btZyIfbg1CIiIuCe4FUL821PDkQvORfdooPva2c/DotU+NIgJknPi4jnTtawyIEYJum+n39RzJ3ai7pPx2navpVb6g5GMgCd/pL0XLgEm5AMdZUBZ/utMI61cvtZ9gcWwROsiMq9Ho7rFuyNl046bUDiNoMHnZfQlqp9kJbXA864udmphacK/dtpp6HPJNvEK4zDgH7Hw0sXaosrhPIw1i/ucjr1c2fL67pNMP9BLimD4BfH51z+c53NAr4QGpHKlZp+0Wqr22Q02XGHwaP04HAdeqnLCEa6pdVvR/CGGP3p3RUpOPpntrTvSYuxPt1RM+H8HMVdFFg8Dy+M8RICNW/78cnFdm9++lOMYDyi8rrxU7VWlbGQLWvP67+x/kNOaKSLn+wBL+SDoCNsOeQ7D8oMlZmENaE15Z+IBZTc95Oi+NoQlXO5xoh14mAaUru678Y/EBC4ETn3ZLeqQsJ+2xdUrH05jf8HlaNxdu7GrGvw=
