# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -N -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -N -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: uZQBgM3DI62Pta2OZajcjImoBOnDsljq03VFBEL5prhEW5LBT0c5Z9xzi8/ibfF4RogEL2K2C/VOBXiHOgtK4gQoPnMtHwopd0nIAv3mYX7rV0UqRDk0I8MZtGlChED4YjcA5agFhhAZDetUDTMT0Xq8xvemB8CK6gF8mOtptBLTVG0dAiwZU1MvzohzWArIhCw66zXhgLzKCXD1nGRga558xslJ2FhlIcfeAOZsYNXV4h8n5Jq20PlZNNiOIIU56vRb6c2oP681VF/tUUgW2rMCqxLb7Ge+aX5yKzV4o2UuEZ5Gqy+MqbeBo1szTP0NhUjrbW5YkZKdhxJdBlRT+z3yFuHjkrCXWf4Aowbrg/GezYGem0SicOpKWvq8t+GNGbX6OCHva0CdLcwJiiBSVOR+fWjgNqpnbuE/MjENTjY7UxMeewBdXFfnn1WJ5FSQsf+fRHDE8oIjCdSJVTHXnqIRFQ6CvOsOMdazhraMZUCmaGG7S5+5gR9Kv/BXCaaPZndz7STQNg+wXbZf16wHWBySDfg3dJRfUpAOmkDhsCGMa15CWJxWofqUA1QhXXdJj0WoQKPSMV43PhQfJZCYq2J/xBBwH7bMfhqtEBPZNfYJ/QoqU//dnL9CGCntuFBoO0csNuDgvEVACUqYelsQyQSMsVIgvokqnLpQD/nIRiI=
  - secure: FYvphz3S2JMX3QqOIbmb2bVsZRURqN4/neCFBm8uyO2d8ukURF3MaKgBVoKxzP2ihBvLke+bNtjqZwnLE16rAExdkZMCY6CgjXueDU6gACcUb34EQHzVhuSMqrILFn/2SfVErptpuvfqUhLKe1lbFQHNypuzxkUetQchySgGrig4OeUqyziqaaOJ+vQtB6UWBirkpLrwGnKodeWRHjkzk3ynHIe8xIRZe2g/Ed6/HWznHG7st1+jPvX5sekS4HnQdIsCda0doLjYHygSqAGfrbnpmE0B7x58GhpHWM60Os93qfQNW03mGvdbhIHA2QmkVk4wzR5ro+wpK7MtBzsgOW3TeBNbPEg0wsIL7c8+bhbglqtW/Xcc//60RkOdWI6wJs8DKU+3alqnpgomcVDrLjS0urR7cpW7xKZecZgg2lKmF/2xaVKaAh269DgWEh1vO2JnWeZg7/I94oUovHMPmAlFQKDqutd7Zg8nt3Kj2fZOnm7TQnJo9bSCwN2C2OEHgJp2r/Pd1Fb4/tkM7VsrniSinZU+KoGss9K8OVt/H0A1J9/jNsB//Ow3GQJ6yvNw3UACZuWolWQXHBXG9JAyNUhRyuN9NH6TTVcn6v+j/F/flIRTqYeJqCHP9l6BfPnHxiit14/oSfPMvIAkhEWrfTqIU9NpTyVgI9pZ9lKewDA=
  - secure: WUhaO4g76Mu3i/p4jHHwxVWmV49fSb8Sx0m69DNwqD51kvQfOlhaFTk7sPL5aN/YEzo0LRv87H/w1vtXWsat//xcrgaWrA98ZSGeybc3twU2bJT8XJ48dPxBm9RcLDNdfGF/FQ2QUtRgQk6pzPBEMlwmZx5OkA27bJz/QNJZ3NtAgajghZPhLXiOVa3MzM6Fxx5AiZF097XG0/gPEyhd1OzB6GROIj+3qHx95i4tmvzPCN/1vIY0sdUoNQX3SLGATDZJUCHmrH3iDqybCDU7jyPpOn/z9JEZi6Xnvy23QVs2TEdDsJVm0fxRfS1zorq5xChjU5QDTzTK9O+e9OFUciJJ7hGIZNeQt2Oxv+n4p3xDIWlFCAlY8sBSIZg1W9FdIs6XfAi4hg641pqVoY8OAut9/0yuVW5qZQ29PfMq4uelnBoVVoUex3f1r+j00qm4EOElPv3H9QDLzEsB6k/R2uEPBdPOxdIOCwNP8lzXqpMSbyoAJVOUUSZUOZHjF7z1u0xgcYo3smb4Lz1+rERg0zs8fr7YZtobqMvyPOjvLfMExAjEGkbX9q5U9Qa2LtqlV29TnQaorQfHvZpln8TuL4jJcKM//F6maHkFrpxS6Q0UUNIGBdCzjpYgNx84dpmhvwlR2aK4MWFDwDhypKK07GAvkGPL91CfWnL0Lv4zo6w=
  - secure: l1I10FyoACbVKK3gc/DBZ4A6c9zw/SSISlMY9O8+bzTHCo+shA/OsoP6b7LzxIfiuebAqer2q8wVi28gRfV6RgrJFhFv4jHuZZMScDv07z0/ujIQQvpvlwOy1kgYOn10Ir+JwEsMBBfIqL+yzhd212FX1wwNFTCOMSj2nSdwqU5fc2TxKaCPbp5nZDFNWUXjSAXOTd9XLlu6gRzTM74HH3nR0kuoJy2+7wAm6pLnTOk+nSycSdxyQoWbf4APJYwdF2zuu33weoq1ck6gBrep67hTD/2nRfNeHXNykunsW9ypEjaIdKJ3peprPKtgUCm+HDYnCnuSRqCBdQbekuf9vwzeiw0ePJv9gw7/7muGTquDamoeRKapvFagGzj6PscMVHyLI4VNoZ68daxsdVdtLKzGZSDhgquQzEPZ97SnPVPGsdM9gg0/9fGnm3sj4gssb+hICd04h2tfN0APalAWHfhTV8UF847+ByRjD1xsOtmYjl80u717aBFJdJ9fNwVc0QkdRBUjAobRPp8T8viirlAwkxRGZraP7E4P1VygV99MxxW1ZVTl6o4g3vqHasUwvoQyuB9gWTM0I9cSXftqqr1PXp67vFtb/2tbtprjLMoYQD7nMRNjGkjv0/ok0gIByKwnwE2QyRlePjUFo7lLovEj4O+p/HBbg1hi/y7KVB8=
  - secure: Hmu2+Iu3AZc1vQACGmy0EzNtLxCiKMltLbKX23PkSJAIw0ctLPZryE26pAAt15HJQINNyY9DSanrt7yc2jK7qPmvCaHc+3M0FSo2/dkZRyQaQsKNintXXr2cM+lrJ7GKMiOaaX9U4VydvgOBT2Hl6526TWFeFR7PTuCzny1JnLkVX2qMDKK67qI0duBSpi6TTTvze/R4KjVUMC4QHs8DTPnWX5/HseesjDkuoSgq9XIRhIk1GfJDy7fYY5tdc8ew3aE0h4QJce5M7kVQtNY0rN7s9zKrFyisG1X+QZOtFGYJwaYXdDirPc0aW3bXqW5QZSkJjb/NOg0zVi1Pwmo5AA/4hVlbyNV+kq4CvpddWT+E/ZlPamIm7Oa98jEa4GKQOTFSVMK0eV1ijQurP5ZQJEr6TYwA6TtQV521x1/MIXtzVCp1tP2CuI1sW7RxET24dIwM9AsMH4UGiYQlT+m47LyaIcVp9tXYydSlGtgy9x/hfSJkrrSenOhVCIC6f46cM52L1EvV8jbA3qOSZFFRtjkfrBrE0wceh3vwaKSWsQ0FX4+d9i5fUOd0RUIVYVgweNyAXQ5umgloB6gcODYzOU/ONC4Mdy3e6gGeyOiCzkQSxZpSLacxhQ/8RPQdpExvnJimLnqvRizqgZwREQgivOqPunz9sWVGzD/7rlifO3k=
  - secure: pQpUmZC6el+Jtzp/gEvLKk438zSB+SKaW88gv8Lml29NzecOFxzsmA/DIT+NH7RwzuyqxkH/hr4fyXhEBk32QRDYQjc1lzjkJe2onew1khSb/4qkHbFJMpmON/zKLR+JQ35wZgvwBFrr5eschOmkTEa+9z++Tm4zyOJv2MPE7N51SYhj8lEj0ue8eDdqcePmMigf/VL44aZA0c+s9XO0tv6kayxdAJ7NNLkpdAI9UsveTPTg0FxYenb5caH2TIpDTcd//9R5Hw+S0MnyyC/MRwz5BefuiqvrBKH8UOnud1VrhRprSI2z+1wXE6A6GOJ57CkgVJ0h1MBmoSoBA2rwKcCL4JxIziJhfnKTYypI6E6XqMfoLMsGP1bbHcuHJU2C4F2xUSfQwekPylxLBU30zWmCUGwYmhp4D3UqASH91gIr4/gvrqg+qzKvK8Izji35UJab4xZpz5rQrBwex9BLUPXhYruscI6/mwk5F7a+m2fsUeXyT6Xt4NASsSqwLb4TWD5KGtEzEcwZR2+ln3ABqa1ClKDRhpkdgjLMt7Tqa6vtwVSBPw3QW+LUU9L2dzhh0FPthNcOitKf74INHVP7YGQ/UhjQO+/DYuCrojDZ58gxPuIXAtJtJZ8iqD+C16gXqU1Q4bXbURqPRk6BYV+qoL9asAKR2sX4lARUFlv/OOY=
  - secure: BuZpgpuZZC9srxf6lJTd3HOvyWdBoNlrsV5fpwAsg3TDyId6R+QKtLilW64HhyldfiHFxax5mvYf2pQ/WHr1OF8g+ID3/IyzHKNI1aUjgi/557HAYyDOE8b9VQLxoX4v+QW7X7EM8EBR37gspvyEvF/z6cIUNLSwca24nfjxZgIveXRErTu9waPhH+1ENu9JkJ/auq1I/SrQMPXZcv0ISubeska2igQsbFsjj/YHnwyxmLRhl/p9R4h7+qz0N+w4LYUVrG5SMj81O6VYlxpuK7sjnGnsN3G5KsMaCsSOyu0wxUEMfXShri4ZI19Zduko+OHMHLC5o38fZWdwvbbv8K2Pm4H+rNldjzaD6NMYDCvcQrwp+ipubKLfwn0BCkgw6f7sWIKWjqO7tyuCEz49Y2sPx9VQJV8w+mRRDKSCuIlmhqoXg70s/QK9QpXsNEToVfaTkdfPtRgUxUtKG/nXOG3SjaszZtErj+xlYo/sc6lhKTUqEBNiQjVDmASNNV/IaGHt6WAyO32TQMcXGyfczFbwPoebg9x9gdL94RxzLz7+cH6Y/c1vrWMoB8Fgc32Xs/3npndvFqk5Ar8gX2pNXjdmyO7OqVFjdLxLsQ/tmfwLOoKQlK3bVrb1JebQnhvPezD2AAI0iD1lQPOoWL2UnTPnQsntqJ1R49CooGp+dsU=
